{
  "name": "多操作示例模型",
  "description": "这是一个支持多种操作的模型模板示例，可以同时支持部署和训练",
  "type": "deployment",
  "categoryType": "model",
  "category": "模型",
  "tags": ["部署", "训练", "示例"],
  "templates": {
    "deploy": {
      "accelerators": {
        "baidu.com/a800_80g_cgpu": 8,
        "baidu.com/h20_141g_cgpu": 1
      },
      "taskParams": {
        "name": "multi-action-service",
        "replicas": 1,
        "description": "多操作示例服务",
        "resourceSpec": {
          "acceleratorCount": 1,
          "acceleratorType": "baidu.com/h20_141g_cgpu"
        }
      }
    },
    "train": {
      "command": "python train.py",
      "taskParams": {
        "name": "multi-action-training",
        "jobType": "PyTorchJob",
        "command": "python train.py",
        "jobSpec": {
          "replicas": 1,
          "image": "registry.baidubce.com/aihc-aiak/aiak-megatron:ubuntu20.04-cu11.8-torch1.14.0-py38_v1.2.7.12_release",
          "resources": [],
          "envs": [],
          "enableRDMA": false
        }
      }
    }
  },
  "actions": [
    {
      "type": "deploy",
      "label": "部署推理服务",
      "description": "部署推理在线服务",
      "templateKey": "deploy"
    },
    {
      "type": "train",
      "label": "创建训练任务",
      "description": "创建训练任务",
      "templateKey": "train"
    }
  ]
}

