"use strict";(globalThis.webpackChunkpages=globalThis.webpackChunkpages||[]).push([[6110],{699:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>c,contentTitle:()=>r,default:()=>t,frontMatter:()=>l,metadata:()=>i,toc:()=>j});const i=JSON.parse('{"id":"API\u53c2\u8003/API-\u8bad\u7ec3\u4efb\u52a1","title":"\u8bad\u7ec3\u4efb\u52a1","description":"\u6240\u6709\u8bad\u7ec3\u4efb\u52a1\u63a5\u53e3\u90fd\u9700\u8981\u8ba4\u8bc1\u3002","source":"@site/docs/API\u53c2\u8003/API-\u8bad\u7ec3\u4efb\u52a1.md","sourceDirName":"API\u53c2\u8003","slug":"/API\u53c2\u8003/API-\u8bad\u7ec3\u4efb\u52a1","permalink":"/mlp-cooker/docs/API\u53c2\u8003/API-\u8bad\u7ec3\u4efb\u52a1","draft":false,"unlisted":false,"editUrl":"https://github.com/atorber/mlp-cooker/tree/main/pages/docs/API\u53c2\u8003/API-\u8bad\u7ec3\u4efb\u52a1.md","tags":[],"version":"current","sidebarPosition":10,"frontMatter":{"sidebar_position":10},"sidebar":"tutorialSidebar","previous":{"title":"\u955c\u50cf\u7ba1\u7406","permalink":"/mlp-cooker/docs/API\u53c2\u8003/API-\u955c\u50cf\u7ba1\u7406"},"next":{"title":"\u670d\u52a1\u90e8\u7f72","permalink":"/mlp-cooker/docs/API\u53c2\u8003/API-\u670d\u52a1\u90e8\u7f72"}}');var d=s(4848),o=s(8453);const l={sidebar_position:10},r="\u8bad\u7ec3\u4efb\u52a1",c={},j=[{value:"\u63a5\u53e3\u5217\u8868",id:"\u63a5\u53e3\u5217\u8868",level:2},{value:"\u63a5\u53e3\u8be6\u60c5",id:"\u63a5\u53e3\u8be6\u60c5",level:2},{value:"POST /api/jobs",id:"post-apijobs",level:3},{value:"GET /api/jobs/:jobId",id:"get-apijobsjobid",level:3},{value:"POST /api/jobs/create",id:"post-apijobscreate",level:3},{value:"POST /api/jobs/:jobId/stop",id:"post-apijobsjobidstop",level:3},{value:"DELETE /api/jobs/:jobId",id:"delete-apijobsjobid",level:3},{value:"GET /api/jobs/:jobId/events",id:"get-apijobsjobidevents",level:3},{value:"GET /api/jobs/:jobId/pods/:podName/logs",id:"get-apijobsjobidpodspodnamelogs",level:3},{value:"GET /api/jobs/:jobId/pods/:podName/webterminal",id:"get-apijobsjobidpodspodnamewebterminal",level:3}];function a(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...n.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(e.header,{children:(0,d.jsx)(e.h1,{id:"\u8bad\u7ec3\u4efb\u52a1",children:"\u8bad\u7ec3\u4efb\u52a1"})}),"\n",(0,d.jsx)(e.p,{children:"\u6240\u6709\u8bad\u7ec3\u4efb\u52a1\u63a5\u53e3\u90fd\u9700\u8981\u8ba4\u8bc1\u3002"}),"\n",(0,d.jsx)(e.h2,{id:"\u63a5\u53e3\u5217\u8868",children:"\u63a5\u53e3\u5217\u8868"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsxs)(e.li,{children:[(0,d.jsx)("code",{children:"POST /api/jobs"}),"\uff1a\u67e5\u8be2\u8bad\u7ec3\u4efb\u52a1\u5217\u8868"]}),"\n",(0,d.jsxs)(e.li,{children:[(0,d.jsxs)("code",{children:["GET /api/jobs/",":jobId"]}),"\uff1a\u67e5\u8be2\u8bad\u7ec3\u4efb\u52a1\u8be6\u60c5"]}),"\n",(0,d.jsxs)(e.li,{children:[(0,d.jsx)("code",{children:"POST /api/jobs/create"}),"\uff1a\u521b\u5efa\u8bad\u7ec3\u4efb\u52a1"]}),"\n",(0,d.jsxs)(e.li,{children:[(0,d.jsxs)("code",{children:["POST /api/jobs/",":jobId","/stop"]}),"\uff1a\u505c\u6b62\u8bad\u7ec3\u4efb\u52a1"]}),"\n",(0,d.jsxs)(e.li,{children:[(0,d.jsxs)("code",{children:["DELETE /api/jobs/",":jobId"]}),"\uff1a\u5220\u9664\u8bad\u7ec3\u4efb\u52a1"]}),"\n",(0,d.jsxs)(e.li,{children:[(0,d.jsxs)("code",{children:["GET /api/jobs/",":jobId","/events"]}),"\uff1a\u67e5\u8be2\u8bad\u7ec3\u4efb\u52a1\u4e8b\u4ef6"]}),"\n",(0,d.jsxs)(e.li,{children:[(0,d.jsxs)("code",{children:["GET /api/jobs/",":jobId","/pods/",":podName","/logs"]}),"\uff1a\u67e5\u8be2\u8bad\u7ec3\u4efb\u52a1\u65e5\u5fd7"]}),"\n",(0,d.jsxs)(e.li,{children:[(0,d.jsxs)("code",{children:["GET /api/jobs/",":jobId","/pods/",":podName","/webterminal"]}),"\uff1a\u83b7\u53d6\u8bad\u7ec3\u4efb\u52a1 Web Terminal \u5730\u5740"]}),"\n"]}),"\n",(0,d.jsx)(e.h2,{id:"\u63a5\u53e3\u8be6\u60c5",children:"\u63a5\u53e3\u8be6\u60c5"}),"\n",(0,d.jsx)(e.h3,{id:"post-apijobs",children:"POST /api/jobs"}),"\n",(0,d.jsx)(e.p,{children:"\u67e5\u8be2\u8bad\u7ec3\u4efb\u52a1\u5217\u8868\u3002\u4f7f\u7528 POST \u65b9\u6cd5\uff0c\u652f\u6301\u590d\u6742\u67e5\u8be2\u6761\u4ef6\u3002"}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.strong,{children:"\u8bf7\u6c42\u4f53\u793a\u4f8b\uff1a"})}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-json",children:'{\n  "keyword": "\u4efb\u52a1\u5173\u952e\u5b57",\n  "status": "Running",\n  "pageNumber": 1,\n  "pageSize": 10\n}\n'})}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.strong,{children:"\u54cd\u5e94\u793a\u4f8b\uff1a"})}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-json",children:'{\n  "success": true,\n  "data": {\n    "jobs": [\n      {\n        "jobId": "xxx",\n        "jobName": "\u8bad\u7ec3\u4efb\u52a1\u540d\u79f0",\n        "status": "Running",\n        "createdAt": "2025-01-15T10:30:00Z"\n      }\n    ],\n    "totalCount": 100\n  }\n}\n'})}),"\n",(0,d.jsx)(e.h3,{id:"get-apijobsjobid",children:"GET /api/jobs/:jobId"}),"\n",(0,d.jsx)(e.p,{children:"\u6839\u636e\u4efb\u52a1 ID \u67e5\u8be2\u8be6\u60c5\u3002"}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.strong,{children:"\u8def\u5f84\u53c2\u6570\uff1a"})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsxs)(e.li,{children:[(0,d.jsx)(e.code,{children:"jobId"}),"\uff1a\u4efb\u52a1 ID"]}),"\n"]}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.strong,{children:"\u54cd\u5e94\u793a\u4f8b\uff1a"})}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-json",children:'{\n  "success": true,\n  "data": {\n    "jobId": "xxx",\n    "jobName": "\u8bad\u7ec3\u4efb\u52a1\u540d\u79f0",\n    "status": "Running",\n    "config": {...},\n    "createdAt": "2025-01-15T10:30:00Z"\n  }\n}\n'})}),"\n",(0,d.jsx)(e.h3,{id:"post-apijobscreate",children:"POST /api/jobs/create"}),"\n",(0,d.jsx)(e.p,{children:"\u521b\u5efa\u65b0\u7684\u8bad\u7ec3\u4efb\u52a1\u3002"}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.strong,{children:"\u8bf7\u6c42\u793a\u4f8b\uff1a"})}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-json",children:'{\n  "jobName": "\u8bad\u7ec3\u4efb\u52a1\u540d\u79f0",\n  "image": "registry/image:tag",\n  "command": ["python", "train.py"],\n  "resourcePoolId": "xxx",\n  "queue": "xxx"\n}\n'})}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.strong,{children:"\u54cd\u5e94\u793a\u4f8b\uff1a"})}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-json",children:'{\n  "success": true,\n  "data": {\n    "jobId": "xxx",\n    "jobName": "\u8bad\u7ec3\u4efb\u52a1\u540d\u79f0"\n  },\n  "message": "\u8bad\u7ec3\u4efb\u52a1\u521b\u5efa\u6210\u529f"\n}\n'})}),"\n",(0,d.jsx)(e.h3,{id:"post-apijobsjobidstop",children:"POST /api/jobs/:jobId/stop"}),"\n",(0,d.jsx)(e.p,{children:"\u505c\u6b62\u6b63\u5728\u8fd0\u884c\u7684\u8bad\u7ec3\u4efb\u52a1\u3002"}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.strong,{children:"\u8def\u5f84\u53c2\u6570\uff1a"})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsxs)(e.li,{children:[(0,d.jsx)(e.code,{children:"jobId"}),"\uff1a\u4efb\u52a1 ID"]}),"\n"]}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.strong,{children:"\u54cd\u5e94\u793a\u4f8b\uff1a"})}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-json",children:'{\n  "success": true,\n  "message": "\u4efb\u52a1\u5df2\u505c\u6b62"\n}\n'})}),"\n",(0,d.jsx)(e.h3,{id:"delete-apijobsjobid",children:"DELETE /api/jobs/:jobId"}),"\n",(0,d.jsx)(e.p,{children:"\u5220\u9664\u6307\u5b9a\u7684\u8bad\u7ec3\u4efb\u52a1\u3002"}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.strong,{children:"\u8def\u5f84\u53c2\u6570\uff1a"})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsxs)(e.li,{children:[(0,d.jsx)(e.code,{children:"jobId"}),"\uff1a\u4efb\u52a1 ID"]}),"\n"]}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.strong,{children:"\u54cd\u5e94\u793a\u4f8b\uff1a"})}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-json",children:'{\n  "success": true,\n  "message": "\u4efb\u52a1\u5df2\u5220\u9664"\n}\n'})}),"\n",(0,d.jsx)(e.h3,{id:"get-apijobsjobidevents",children:"GET /api/jobs/:jobId/events"}),"\n",(0,d.jsx)(e.p,{children:"\u67e5\u8be2\u8bad\u7ec3\u4efb\u52a1\u7684\u4e8b\u4ef6\u65e5\u5fd7\u3002"}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.strong,{children:"\u8def\u5f84\u53c2\u6570\uff1a"})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsxs)(e.li,{children:[(0,d.jsx)(e.code,{children:"jobId"}),"\uff1a\u4efb\u52a1 ID"]}),"\n"]}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.strong,{children:"\u54cd\u5e94\u793a\u4f8b\uff1a"})}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-json",children:'{\n  "success": true,\n  "data": {\n    "events": [\n      {\n        "type": "Normal",\n        "reason": "Started",\n        "message": "Container started",\n        "timestamp": "2025-01-15T10:30:00Z"\n      }\n    ]\n  }\n}\n'})}),"\n",(0,d.jsx)(e.h3,{id:"get-apijobsjobidpodspodnamelogs",children:"GET /api/jobs/:jobId/pods/:podName/logs"}),"\n",(0,d.jsx)(e.p,{children:"\u67e5\u8be2\u6307\u5b9a Pod \u7684\u65e5\u5fd7\u3002"}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.strong,{children:"\u8def\u5f84\u53c2\u6570\uff1a"})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsxs)(e.li,{children:[(0,d.jsx)(e.code,{children:"jobId"}),"\uff1a\u4efb\u52a1 ID"]}),"\n",(0,d.jsxs)(e.li,{children:[(0,d.jsx)(e.code,{children:"podName"}),"\uff1aPod \u540d\u79f0"]}),"\n"]}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.strong,{children:"\u67e5\u8be2\u53c2\u6570\uff1a"})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsxs)(e.li,{children:[(0,d.jsx)(e.code,{children:"tailLines"}),"\uff1a\u8fd4\u56de\u6700\u540e N \u884c\u65e5\u5fd7\uff08\u53ef\u9009\uff09"]}),"\n",(0,d.jsxs)(e.li,{children:[(0,d.jsx)(e.code,{children:"follow"}),"\uff1a\u662f\u5426\u5b9e\u65f6\u8ddf\u8e2a\uff08\u53ef\u9009\uff09"]}),"\n"]}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.strong,{children:"\u54cd\u5e94\u793a\u4f8b\uff1a"})}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-json",children:'{\n  "success": true,\n  "data": {\n    "logs": "\u65e5\u5fd7\u5185\u5bb9..."\n  }\n}\n'})}),"\n",(0,d.jsx)(e.h3,{id:"get-apijobsjobidpodspodnamewebterminal",children:"GET /api/jobs/:jobId/pods/:podName/webterminal"}),"\n",(0,d.jsx)(e.p,{children:"\u83b7\u53d6\u8bad\u7ec3\u4efb\u52a1\u7684 Web Terminal \u8bbf\u95ee\u5730\u5740\u3002"}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.strong,{children:"\u8def\u5f84\u53c2\u6570\uff1a"})}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsxs)(e.li,{children:[(0,d.jsx)(e.code,{children:"jobId"}),"\uff1a\u4efb\u52a1 ID"]}),"\n",(0,d.jsxs)(e.li,{children:[(0,d.jsx)(e.code,{children:"podName"}),"\uff1aPod \u540d\u79f0"]}),"\n"]}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.strong,{children:"\u54cd\u5e94\u793a\u4f8b\uff1a"})}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-json",children:'{\n  "success": true,\n  "data": {\n    "webTerminalUrl": "ws://localhost:8080/webterminal/xxx"\n  }\n}\n'})})]})}function t(n={}){const{wrapper:e}={...(0,o.R)(),...n.components};return e?(0,d.jsx)(e,{...n,children:(0,d.jsx)(a,{...n})}):a(n)}},8453:(n,e,s)=>{s.d(e,{R:()=>l,x:()=>r});var i=s(6540);const d={},o=i.createContext(d);function l(n){const e=i.useContext(o);return i.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function r(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(d):n.components||d:l(n.components),i.createElement(o.Provider,{value:e},n.children)}}}]);