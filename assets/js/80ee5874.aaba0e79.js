"use strict";(globalThis.webpackChunkpages=globalThis.webpackChunkpages||[]).push([[1427],{1029:(n,e,o)=>{o.r(e),o.d(e,{assets:()=>a,contentTitle:()=>c,default:()=>w,frontMatter:()=>i,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"API\u53c2\u8003/API-Argo-Workflows","title":"Argo Workflows \u7ba1\u7406","description":"Argo Workflows \u662f\u4e00\u4e2a\u7528\u4e8e Kubernetes \u7684\u5f00\u6e90\u5bb9\u5668\u539f\u751f\u5de5\u4f5c\u6d41\u5f15\u64ce\u3002\u672c API \u63d0\u4f9b\u4e86\u5bf9 Argo Workflows \u7684\u5b8c\u6574\u7ba1\u7406\u529f\u80fd\u3002","source":"@site/docs/API\u53c2\u8003/API-Argo-Workflows.md","sourceDirName":"API\u53c2\u8003","slug":"/API\u53c2\u8003/API-Argo-Workflows","permalink":"/mlp-cooker/docs/API\u53c2\u8003/API-Argo-Workflows","draft":false,"unlisted":false,"editUrl":"https://github.com/atorber/mlp-cooker/tree/main/pages/docs/API\u53c2\u8003/API-Argo-Workflows.md","tags":[],"version":"current","sidebarPosition":13,"frontMatter":{"sidebar_position":13},"sidebar":"tutorialSidebar","previous":{"title":"\u4efb\u52a1\u7ba1\u7406","permalink":"/mlp-cooker/docs/API\u53c2\u8003/API-\u4efb\u52a1\u7ba1\u7406"},"next":{"title":"\u6545\u969c\u6392\u9664","permalink":"/mlp-cooker/docs/\u6545\u969c\u6392\u9664"}}');var l=o(4848),s=o(8453);const i={sidebar_position:13},c="Argo Workflows \u7ba1\u7406",a={},d=[{value:"\u63a5\u53e3\u5217\u8868",id:"\u63a5\u53e3\u5217\u8868",level:2},{value:"\u670d\u52a1\u4fe1\u606f",id:"\u670d\u52a1\u4fe1\u606f",level:3},{value:"Workflow \u7ba1\u7406",id:"workflow-\u7ba1\u7406",level:3},{value:"WorkflowTemplate \u7ba1\u7406",id:"workflowtemplate-\u7ba1\u7406",level:3},{value:"CronWorkflow \u7ba1\u7406",id:"cronworkflow-\u7ba1\u7406",level:3},{value:"\u5f52\u6863 Workflow \u7ba1\u7406",id:"\u5f52\u6863-workflow-\u7ba1\u7406",level:3},{value:"\u914d\u7f6e\u8bf4\u660e",id:"\u914d\u7f6e\u8bf4\u660e",level:2},{value:"\u63a5\u53e3\u8be6\u60c5",id:"\u63a5\u53e3\u8be6\u60c5",level:2},{value:"GET /api/argo/info",id:"get-apiargoinfo",level:3},{value:"GET /api/argo/workflows",id:"get-apiargoworkflows",level:3},{value:"GET /api/argo/workflows/",id:"get-apiargoworkflows-1",level:3},{value:"POST /api/argo/workflows",id:"post-apiargoworkflows",level:3},{value:"DELETE /api/argo/workflows/",id:"delete-apiargoworkflows",level:3},{value:"PUT /api/argo/workflows//stop",id:"put-apiargoworkflowsstop",level:3},{value:"GET /api/argo/workflows//logs",id:"get-apiargoworkflowslogs",level:3},{value:"POST /api/argo/workflow-templates//submit",id:"post-apiargoworkflow-templatessubmit",level:3},{value:"CronWorkflow \u7ba1\u7406",id:"cronworkflow-\u7ba1\u7406-1",level:2},{value:"POST /api/argo/cron-workflows",id:"post-apiargocron-workflows",level:3},{value:"PUT /api/argo/cron-workflows//suspend",id:"put-apiargocron-workflowssuspend",level:3},{value:"PUT /api/argo/cron-workflows//resume",id:"put-apiargocron-workflowsresume",level:3},{value:"\u9519\u8bef\u5904\u7406",id:"\u9519\u8bef\u5904\u7406",level:2},{value:"\u4f7f\u7528\u5efa\u8bae",id:"\u4f7f\u7528\u5efa\u8bae",level:2}];function h(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e.header,{children:(0,l.jsx)(e.h1,{id:"argo-workflows-\u7ba1\u7406",children:"Argo Workflows \u7ba1\u7406"})}),"\n",(0,l.jsx)(e.p,{children:"Argo Workflows \u662f\u4e00\u4e2a\u7528\u4e8e Kubernetes \u7684\u5f00\u6e90\u5bb9\u5668\u539f\u751f\u5de5\u4f5c\u6d41\u5f15\u64ce\u3002\u672c API \u63d0\u4f9b\u4e86\u5bf9 Argo Workflows \u7684\u5b8c\u6574\u7ba1\u7406\u529f\u80fd\u3002"}),"\n",(0,l.jsx)(e.p,{children:"\u6240\u6709 Argo Workflows \u63a5\u53e3\u90fd\u9700\u8981\u8ba4\u8bc1\u3002"}),"\n",(0,l.jsx)(e.h2,{id:"\u63a5\u53e3\u5217\u8868",children:"\u63a5\u53e3\u5217\u8868"}),"\n",(0,l.jsx)(e.h3,{id:"\u670d\u52a1\u4fe1\u606f",children:"\u670d\u52a1\u4fe1\u606f"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"GET /api/argo/info"}),"\uff1a\u83b7\u53d6 Argo \u670d\u52a1\u5668\u4fe1\u606f"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"GET /api/argo/test-connection"}),"\uff1a\u6d4b\u8bd5 Argo \u8fde\u63a5"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"workflow-\u7ba1\u7406",children:"Workflow \u7ba1\u7406"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"GET /api/argo/workflows"}),"\uff1a\u5217\u51fa Workflows"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"GET /api/argo/workflows/:workflowName"}),"\uff1a\u83b7\u53d6 Workflow \u8be6\u60c5"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"POST /api/argo/workflows"}),"\uff1a\u521b\u5efa Workflow"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"DELETE /api/argo/workflows/:workflowName"}),"\uff1a\u5220\u9664 Workflow"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"PUT /api/argo/workflows/:workflowName/stop"}),"\uff1a\u505c\u6b62 Workflow"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"PUT /api/argo/workflows/:workflowName/resubmit"}),"\uff1a\u91cd\u65b0\u63d0\u4ea4 Workflow"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"PUT /api/argo/workflows/:workflowName/retry"}),"\uff1a\u91cd\u8bd5 Workflow"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"GET /api/argo/workflows/:workflowName/logs"}),"\uff1a\u83b7\u53d6 Workflow \u65e5\u5fd7"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"workflowtemplate-\u7ba1\u7406",children:"WorkflowTemplate \u7ba1\u7406"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"GET /api/argo/workflow-templates"}),"\uff1a\u5217\u51fa WorkflowTemplates"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"GET /api/argo/workflow-templates/:templateName"}),"\uff1a\u83b7\u53d6 WorkflowTemplate \u8be6\u60c5"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"POST /api/argo/workflow-templates"}),"\uff1a\u521b\u5efa WorkflowTemplate"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"DELETE /api/argo/workflow-templates/:templateName"}),"\uff1a\u5220\u9664 WorkflowTemplate"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"POST /api/argo/workflow-templates/:templateName/submit"}),"\uff1a\u4ece\u6a21\u677f\u63d0\u4ea4 Workflow"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"cronworkflow-\u7ba1\u7406",children:"CronWorkflow \u7ba1\u7406"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"GET /api/argo/cron-workflows"}),"\uff1a\u5217\u51fa CronWorkflows"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"GET /api/argo/cron-workflows/:cronWorkflowName"}),"\uff1a\u83b7\u53d6 CronWorkflow \u8be6\u60c5"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"POST /api/argo/cron-workflows"}),"\uff1a\u521b\u5efa CronWorkflow"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"DELETE /api/argo/cron-workflows/:cronWorkflowName"}),"\uff1a\u5220\u9664 CronWorkflow"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"PUT /api/argo/cron-workflows/:cronWorkflowName/suspend"}),"\uff1a\u6682\u505c CronWorkflow"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"PUT /api/argo/cron-workflows/:cronWorkflowName/resume"}),"\uff1a\u6062\u590d CronWorkflow"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"\u5f52\u6863-workflow-\u7ba1\u7406",children:"\u5f52\u6863 Workflow \u7ba1\u7406"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"GET /api/argo/archived-workflows"}),"\uff1a\u5217\u51fa\u5f52\u6863\u7684 Workflows"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"GET /api/argo/archived-workflows/:uid"}),"\uff1a\u83b7\u53d6\u5f52\u6863\u7684 Workflow \u8be6\u60c5"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"DELETE /api/argo/archived-workflows/:uid"}),"\uff1a\u5220\u9664\u5f52\u6863\u7684 Workflow"]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"\u914d\u7f6e\u8bf4\u660e",children:"\u914d\u7f6e\u8bf4\u660e"}),"\n",(0,l.jsxs)(e.p,{children:["\u5728 ",(0,l.jsx)(e.code,{children:"config.yaml"})," \u4e2d\u914d\u7f6e Argo Workflows \u8fde\u63a5\u4fe1\u606f\uff1a"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-yaml",children:"ARGO_BASE_URL: http://localhost:2746\nARGO_NAMESPACE: argo\nARGO_TOKEN: your_argo_token\n"})}),"\n",(0,l.jsx)(e.p,{children:"\u914d\u7f6e\u9879\u8bf4\u660e\uff1a"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"ARGO_BASE_URL"}),"\uff1aArgo Server \u5730\u5740"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"ARGO_NAMESPACE"}),"\uff1a\u9ed8\u8ba4\u547d\u540d\u7a7a\u95f4"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"ARGO_TOKEN"}),"\uff1a\u8bbf\u95ee\u4ee4\u724c\uff08\u53ef\u9009\uff0c\u5982\u679c Argo Server \u9700\u8981\u8ba4\u8bc1\uff09"]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"\u63a5\u53e3\u8be6\u60c5",children:"\u63a5\u53e3\u8be6\u60c5"}),"\n",(0,l.jsx)(e.h3,{id:"get-apiargoinfo",children:"GET /api/argo/info"}),"\n",(0,l.jsx)(e.p,{children:"\u83b7\u53d6 Argo \u670d\u52a1\u5668\u4fe1\u606f\uff0c\u5305\u62ec\u7248\u672c\u548c\u7528\u6237\u4fe1\u606f\u3002"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u54cd\u5e94\u793a\u4f8b\uff1a"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-json",children:'{\n  "success": true,\n  "data": {\n    "version": {\n      "version": "v3.5.0",\n      "buildDate": "2024-01-15T10:00:00Z"\n    },\n    "userInfo": {\n      "subject": "system:serviceaccount:argo:argo-server"\n    },\n    "config": {\n      "baseURL": "http://localhost:2746",\n      "namespace": "argo"\n    }\n  }\n}\n'})}),"\n",(0,l.jsx)(e.h3,{id:"get-apiargoworkflows",children:"GET /api/argo/workflows"}),"\n",(0,l.jsx)(e.p,{children:"\u5217\u51fa Workflows\u3002"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u67e5\u8be2\u53c2\u6570\uff1a"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"namespace"}),"\uff1a\u547d\u540d\u7a7a\u95f4\uff08\u53ef\u9009\uff09"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"labelSelector"}),"\uff1a\u6807\u7b7e\u7b5b\u9009\u5668\uff08\u53ef\u9009\uff09"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"fieldSelector"}),"\uff1a\u5b57\u6bb5\u7b5b\u9009\u5668\uff08\u53ef\u9009\uff09"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"limit"}),"\uff1a\u8fd4\u56de\u6570\u91cf\u9650\u5236\uff08\u53ef\u9009\uff09"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"continue"}),"\uff1a\u5206\u9875\u4ee4\u724c\uff08\u53ef\u9009\uff09"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u54cd\u5e94\u793a\u4f8b\uff1a"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-json",children:'{\n  "success": true,\n  "data": {\n    "items": [\n      {\n        "metadata": {\n          "name": "hello-world-xxxxx",\n          "namespace": "argo",\n          "creationTimestamp": "2024-01-15T10:00:00Z"\n        },\n        "status": {\n          "phase": "Succeeded",\n          "startedAt": "2024-01-15T10:00:00Z",\n          "finishedAt": "2024-01-15T10:05:00Z"\n        }\n      }\n    ]\n  }\n}\n'})}),"\n",(0,l.jsxs)(e.h3,{id:"get-apiargoworkflows-1",children:["GET /api/argo/workflows/",":workflowName"]}),"\n",(0,l.jsx)(e.p,{children:"\u83b7\u53d6\u6307\u5b9a Workflow \u7684\u8be6\u60c5\u3002"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u8def\u5f84\u53c2\u6570\uff1a"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"workflowName"}),"\uff1aWorkflow \u540d\u79f0"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u67e5\u8be2\u53c2\u6570\uff1a"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"namespace"}),"\uff1a\u547d\u540d\u7a7a\u95f4\uff08\u53ef\u9009\uff09"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u54cd\u5e94\u793a\u4f8b\uff1a"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-json",children:'{\n  "success": true,\n  "data": {\n    "metadata": {\n      "name": "hello-world-xxxxx",\n      "namespace": "argo"\n    },\n    "spec": {\n      "entrypoint": "whalesay",\n      "templates": [...]\n    },\n    "status": {\n      "phase": "Succeeded",\n      "nodes": {...}\n    }\n  }\n}\n'})}),"\n",(0,l.jsx)(e.h3,{id:"post-apiargoworkflows",children:"POST /api/argo/workflows"}),"\n",(0,l.jsx)(e.p,{children:"\u521b\u5efa\uff08\u63d0\u4ea4\uff09\u4e00\u4e2a\u65b0\u7684 Workflow\u3002"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u8bf7\u6c42\u4f53\uff1a"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-json",children:'{\n  "namespace": "argo",\n  "serverDryRun": false,\n  "workflow": {\n    "apiVersion": "argoproj.io/v1alpha1",\n    "kind": "Workflow",\n    "metadata": {\n      "generateName": "hello-world-"\n    },\n    "spec": {\n      "entrypoint": "whalesay",\n      "templates": [\n        {\n          "name": "whalesay",\n          "container": {\n            "image": "docker/whalesay:latest",\n            "command": ["cowsay"],\n            "args": ["hello world"]\n          }\n        }\n      ]\n    }\n  }\n}\n'})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u54cd\u5e94\u793a\u4f8b\uff1a"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-json",children:'{\n  "success": true,\n  "data": {\n    "metadata": {\n      "name": "hello-world-xxxxx",\n      "namespace": "argo"\n    }\n  },\n  "message": "Workflow \u521b\u5efa\u6210\u529f"\n}\n'})}),"\n",(0,l.jsxs)(e.h3,{id:"delete-apiargoworkflows",children:["DELETE /api/argo/workflows/",":workflowName"]}),"\n",(0,l.jsx)(e.p,{children:"\u5220\u9664\u6307\u5b9a\u7684 Workflow\u3002"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u8def\u5f84\u53c2\u6570\uff1a"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"workflowName"}),"\uff1aWorkflow \u540d\u79f0"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u67e5\u8be2\u53c2\u6570\uff1a"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"namespace"}),"\uff1a\u547d\u540d\u7a7a\u95f4\uff08\u53ef\u9009\uff09"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u54cd\u5e94\u793a\u4f8b\uff1a"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-json",children:'{\n  "success": true,\n  "message": "Workflow \u5220\u9664\u6210\u529f"\n}\n'})}),"\n",(0,l.jsxs)(e.h3,{id:"put-apiargoworkflowsstop",children:["PUT /api/argo/workflows/",":workflowName","/stop"]}),"\n",(0,l.jsx)(e.p,{children:"\u505c\u6b62\u6b63\u5728\u8fd0\u884c\u7684 Workflow\u3002"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u8def\u5f84\u53c2\u6570\uff1a"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"workflowName"}),"\uff1aWorkflow \u540d\u79f0"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u67e5\u8be2\u53c2\u6570\uff1a"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"namespace"}),"\uff1a\u547d\u540d\u7a7a\u95f4\uff08\u53ef\u9009\uff09"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u54cd\u5e94\u793a\u4f8b\uff1a"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-json",children:'{\n  "success": true,\n  "message": "Workflow \u505c\u6b62\u6210\u529f"\n}\n'})}),"\n",(0,l.jsxs)(e.h3,{id:"get-apiargoworkflowslogs",children:["GET /api/argo/workflows/",":workflowName","/logs"]}),"\n",(0,l.jsx)(e.p,{children:"\u83b7\u53d6 Workflow \u7684\u65e5\u5fd7\u3002"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u8def\u5f84\u53c2\u6570\uff1a"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"workflowName"}),"\uff1aWorkflow \u540d\u79f0"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u67e5\u8be2\u53c2\u6570\uff1a"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"namespace"}),"\uff1a\u547d\u540d\u7a7a\u95f4\uff08\u53ef\u9009\uff09"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"podName"}),"\uff1aPod \u540d\u79f0\uff08\u53ef\u9009\uff09"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"containerName"}),"\uff1a\u5bb9\u5668\u540d\u79f0\uff08\u53ef\u9009\uff09"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u54cd\u5e94\u793a\u4f8b\uff1a"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-json",children:'{\n  "success": true,\n  "data": {\n    "logs": "hello world\\n..."\n  }\n}\n'})}),"\n",(0,l.jsxs)(e.h3,{id:"post-apiargoworkflow-templatessubmit",children:["POST /api/argo/workflow-templates/",":templateName","/submit"]}),"\n",(0,l.jsx)(e.p,{children:"\u4ece WorkflowTemplate \u63d0\u4ea4\u65b0\u7684 Workflow\u3002"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u8def\u5f84\u53c2\u6570\uff1a"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"templateName"}),"\uff1aWorkflowTemplate \u540d\u79f0"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u8bf7\u6c42\u4f53\uff1a"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-json",children:'{\n  "namespace": "argo",\n  "parameters": {\n    "message": "hello world",\n    "count": "3"\n  }\n}\n'})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u54cd\u5e94\u793a\u4f8b\uff1a"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-json",children:'{\n  "success": true,\n  "data": {\n    "metadata": {\n      "name": "hello-world-xxxxx",\n      "namespace": "argo"\n    }\n  },\n  "message": "Workflow \u63d0\u4ea4\u6210\u529f"\n}\n'})}),"\n",(0,l.jsx)(e.h2,{id:"cronworkflow-\u7ba1\u7406-1",children:"CronWorkflow \u7ba1\u7406"}),"\n",(0,l.jsx)(e.p,{children:"CronWorkflow \u7528\u4e8e\u5b9a\u65f6\u6267\u884c Workflow\uff0c\u7c7b\u4f3c\u4e8e Kubernetes \u7684 CronJob\u3002"}),"\n",(0,l.jsx)(e.h3,{id:"post-apiargocron-workflows",children:"POST /api/argo/cron-workflows"}),"\n",(0,l.jsx)(e.p,{children:"\u521b\u5efa CronWorkflow\u3002"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u8bf7\u6c42\u4f53\uff1a"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-json",children:'{\n  "namespace": "argo",\n  "cronWorkflow": {\n    "apiVersion": "argoproj.io/v1alpha1",\n    "kind": "CronWorkflow",\n    "metadata": {\n      "name": "hello-world-cron"\n    },\n    "spec": {\n      "schedule": "0 0 * * *",\n      "workflowSpec": {\n        "entrypoint": "whalesay",\n        "templates": [...]\n      }\n    }\n  }\n}\n'})}),"\n",(0,l.jsxs)(e.h3,{id:"put-apiargocron-workflowssuspend",children:["PUT /api/argo/cron-workflows/",":cronWorkflowName","/suspend"]}),"\n",(0,l.jsx)(e.p,{children:"\u6682\u505c CronWorkflow \u7684\u5b9a\u65f6\u6267\u884c\u3002"}),"\n",(0,l.jsxs)(e.h3,{id:"put-apiargocron-workflowsresume",children:["PUT /api/argo/cron-workflows/",":cronWorkflowName","/resume"]}),"\n",(0,l.jsx)(e.p,{children:"\u6062\u590d CronWorkflow \u7684\u5b9a\u65f6\u6267\u884c\u3002"}),"\n",(0,l.jsx)(e.h2,{id:"\u9519\u8bef\u5904\u7406",children:"\u9519\u8bef\u5904\u7406"}),"\n",(0,l.jsx)(e.p,{children:"\u6240\u6709\u63a5\u53e3\u9075\u5faa\u7edf\u4e00\u7684\u9519\u8bef\u54cd\u5e94\u683c\u5f0f\uff1a"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-json",children:'{\n  "success": false,\n  "message": "\u9519\u8bef\u63cf\u8ff0",\n  "error": "\u8be6\u7ec6\u9519\u8bef\u4fe1\u606f"\n}\n'})}),"\n",(0,l.jsx)(e.p,{children:"\u5e38\u89c1\u9519\u8bef\u7801\uff1a"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"401"}),"\uff1a\u8ba4\u8bc1\u5931\u8d25\uff0cToken \u65e0\u6548"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"404"}),"\uff1aWorkflow \u4e0d\u5b58\u5728"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"500"}),"\uff1aArgo Server \u5185\u90e8\u9519\u8bef"]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"\u4f7f\u7528\u5efa\u8bae",children:"\u4f7f\u7528\u5efa\u8bae"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u547d\u540d\u7a7a\u95f4\u7ba1\u7406"}),"\uff1a\u5efa\u8bae\u4e3a\u4e0d\u540c\u7684\u9879\u76ee\u4f7f\u7528\u4e0d\u540c\u7684\u547d\u540d\u7a7a\u95f4"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u6807\u7b7e\u4f7f\u7528"}),"\uff1a\u4e3a Workflow \u6dfb\u52a0\u6807\u7b7e\uff0c\u4fbf\u4e8e\u7b5b\u9009\u548c\u7ba1\u7406"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u65e5\u5fd7\u67e5\u8be2"}),"\uff1a\u5b9a\u671f\u6e05\u7406\u65e7\u7684 Workflow \u65e5\u5fd7"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u6a21\u677f\u590d\u7528"}),"\uff1a\u4f7f\u7528 WorkflowTemplate \u63d0\u9ad8 Workflow \u7684\u53ef\u91cd\u7528\u6027"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u5b9a\u65f6\u4efb\u52a1"}),"\uff1a\u4f7f\u7528 CronWorkflow \u5b9e\u73b0\u5b9a\u65f6\u6267\u884c\u7684\u4efb\u52a1"]}),"\n"]})]})}function w(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(h,{...n})}):h(n)}},8453:(n,e,o)=>{o.d(e,{R:()=>i,x:()=>c});var r=o(6540);const l={},s=r.createContext(l);function i(n){const e=r.useContext(s);return r.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(l):n.components||l:i(n.components),r.createElement(s.Provider,{value:e},n.children)}}}]);